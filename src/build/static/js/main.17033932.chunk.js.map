{"version":3,"sources":["components/common/Header.js","components/common/Footer.js","components/img_home01.jpg","components/Home.js","components/charts/timechart/BarChart.js","components/charts/timechart/BarChartStacked.js","components/charts/timechart/TimeChart.js","components/charts/timechart/Sidebar.js","components/common/Infobox.js","components/charts/timechart/Info.js","components/charts/genresdepartmentschart/RadialChart.js","components/charts/genresdepartmentschart/GenresDepartmentsChart.js","components/charts/genresdepartmentschart/Info.js","components/charts/genresdepartmentschart/Sidebar.js","components/charts/profitchart/ScatterPlot.js","components/charts/profitchart/ProfitChart.js","components/charts/profitchart/Sidebar.js","components/charts/profitchart/Info.js","components/charts/ChartsLayout.js","App.js","index.js"],"names":["Header","className","href","exact","to","activeClassName","Footer","target","rel","Home","id","role","src","img","alt","BarChart","data","useEffect","margin","top","right","bottom","left","height","width","x","d3","domain","map","d","range","padding","y","rangeRound","yAxisValues","colors","xAxis","g","attr","call","tickValues","filter","i","tooltip","append","style","svg","extent","max","Math","ceil","length","scaleExtent","translateExtent","on","event","transform","applyX","selectAll","bandwidth","chart","join","currentTarget","transition","duration","delay","html","pageX","pageY","setTimeout","text","ticks","tickFormat","bgGradient","BarChartStacked","props","columns","series","keys","slice","forEach","v","key","name","color","unknown","isNaN","toLocaleString","formatValue","legend","round","enter","iActors","indexOf","legend2","iCM","legend3","TimeChart","url","useState","setData","loading","setLoading","error","setError","urlString","Object","u","fetch","then","res","json","catch","JSON","stringify","category","TimeChartSidebar","setUrl","GENRES","all","action","adventure","animation","comedy","crime","documentary","drama","family","fantasy","history","horror","music","mystery","romance","sciencefiction","tvmovie","thriller","war","western","start","setStart","end","setEnd","genre","setGenre","dep","setDep","cat","setCat","selected","setSelected","handleInputChange","useCallback","e","yearsOptions","push","genresOptions","value","class","defaultValue","onChange","disabled","onClick","Infobox","xmlns","fill","viewBox","TimeChartInfo","textCat","show","setShow","handleClose","Button","variant","Modal","onHide","closeButton","Title","Body","RadialChart","clicked","p","depth","backLabel","parent","goBackLabel","datum","root","each","x0","min","x1","PI","y0","y1","t","path","tween","current","this","getAttribute","arcVisible","attrTween","arc","label","labelVisible","labelTransform","radius","startAngle","endAngle","padAngle","padRadius","innerRadius","outerRadius","children","format","formatPercentage","sum","sort","a","b","size","partition","hideTooltip","descendants","parentString","ancestors","toLowerCase","percentage","reverse","showTooltip","GenresDeparmentsChart","GenresDepartmentsInfo","dataset","time","GenresDepartmentsSidebar","DEFAULT_DATA","setDataset","setTime","isActive","handleTimeChange","handleDatasetChange","checked","type","htmlFor","ScatterPlot","formatDollar","avgBudget","avgRevenue","nice","shape","s","select","remove","tooltipMouseout","categories","Set","colorChange","col","c","revenue","budget","profit","_id","count","pos","tooltipMouseover","labels","ProfitChart","ProfitChartSidebar","depsOptions","acting","directing","production","writing","ProfitChartInfo","ChartsLayout","timeUrl","setTimeUrl","gdUrl","setGdUrl","profitUrl","setProfitUrl","render","App","component","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.17033932.chunk.js","sourcesContent":["import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"row m-0\">\r\n      <div className=\"col-12 col-lg-6 p-0\">\r\n        <a href=\"/\"><h1>A gendered point of view</h1></a>\r\n        <p className=\"subtitle\">Visualizing gender distribution in the movie industry</p>\r\n      </div>\r\n\r\n      {/* Navigation */}\r\n      <div className=\"col p-0\">\r\n        <nav className=\"navbar navbar-expand-md px-0\">\r\n          <ul className=\"navbar-nav ml-0 ml-md-auto\">\r\n            <li className=\"nav-item\">\r\n              <NavLink exact to=\"/\" activeClassName=\"active\" className=\"nav-link\">Home</NavLink>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <NavLink to=\"/time\" activeClassName=\"active\" className=\"nav-link\">Distribution over time</NavLink>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <NavLink to=\"/genres\" activeClassName=\"active\" className=\"nav-link\">Genres &amp; Departments</NavLink>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <NavLink to=\"/profit\" activeClassName=\"active\" className=\"nav-link\">Budget &amp; Revenue</NavLink>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer>\r\n      <p>\r\n        Copyright &#169; 2021 M. L. Nguyen. <em>This web app is part of my bachelor's thesis at HTW Berlin. The data was provided by <a href=\"https://tmdb.org/\" target=\"_blank\" rel=\"noopener noreferrer\">TMDb.org</a> (data retrieved on April 12th, 2021).</em>\r\n      </p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","export default __webpack_public_path__ + \"static/media/img_home01.6bd30acd.jpg\";","import React from 'react';\r\nimport img from './img_home01.jpg'\r\n\r\nfunction Home() {\r\n  return (\r\n    <div className=\"row py-3\">\r\n      <div className=\"col-12 col-xl-6\">\r\n        <section id=\"home\">\r\n          <p>\r\n            Welcome to my final thesis project! I hope you will like it here :)\r\n          </p>\r\n          <p>\r\n            My topic for the thesis is <strong>data visualization</strong>. I chose the database <a href=\"https://tmdb.org/\" target=\"_blank\" rel=\"noopener noreferrer\">TMDb.org</a> with over 554K movies listed to make charts about the <strong>gender distribution</strong> in the movie industry with the help of the D3.js library. Precisely, I want to find out:\r\n          </p>\r\n          <ul>\r\n            <li><em>How has the share of women changed over the years?</em></li>\r\n            <li><em>How many women work in each department and movie genre?</em></li>\r\n            <li><em>How much money is involved when women work on movies?</em></li>\r\n          </ul>\r\n          <div className=\"pb-3 text-center\">\r\n            <a href=\"/time\" className=\"btn btn-primary px-3\" role=\"button\">Go to the first chart</a>\r\n          </div>\r\n          <p>\r\n            If you find any technical errors, please contact me with screenshots included! You can reach me via <a href=\"mailto:Mai-Ly.Nguyen@Student.HTW-Berlin.de\" target=\"_blank\" rel=\"noopener noreferrer\">e-mail</a> or on Discord at <strong>miyla#1024</strong>.\r\n          </p>\r\n          <p className=\"text-right text-info\">\r\n            - <em>Ly</em>\r\n          </p>\r\n          <p className=\"small pb-0\">\r\n            <em>Disclaimer:</em> In this project I only analyze people identified as female or male, but this does not mean that I want to push the agenda that there are only two genders. Unfortunately, there was not enough data to mention other genders in the charts.\r\n          </p>\r\n        </section>\r\n      </div>\r\n      <div className=\"col-12 col-xl-6 text-center my-auto\">\r\n        <img src={img} alt=\"Photograph of a cinema with pink neon lights\" className=\"img-fluid rounded-lg\" />\r\n        <p className=\"small text-muted mb-0\">Photo by <a href=\"https://unsplash.com/@myke_simon\" target=\"_blank\" rel=\"noopener noreferrer\">Myke Simon</a> on Unsplash</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;","import React, { useEffect } from 'react';\r\nimport * as d3 from 'd3';\r\n\r\nfunction BarChart({ data }) {\r\n  useEffect(() => {\r\n    if (data !== null && !data.data) {\r\n      let margin = { top: 30, right: 30, bottom: 30, left: 50 },\r\n        height = 450 - margin.top - margin.bottom,\r\n        width = 900 - margin.right - margin.left;\r\n\r\n      let x = d3.scaleBand()\r\n        .domain(data.map(d => d.x))\r\n        .range([0, width])\r\n        .padding(0.1);\r\n\r\n      let y = d3.scaleLinear()\r\n        .domain([0, 50])\r\n        .rangeRound([0, height]);\r\n      let yAxisValues = d3.scaleLinear()\r\n        .domain([0, 50])\r\n        .rangeRound([height, 0]);\r\n\r\n      let colors = d3.scaleLinear()\r\n        .domain([0, d3.max(data, d => d.y)])\r\n        .range(['#01B4E4', '#D40242']);\r\n\r\n      let xAxis = g => g\r\n        .attr('transform', `translate(${margin.left},${height + margin.top})`)\r\n        .call(d3.axisBottom(x)\r\n          .tickValues(x.domain().filter(function (d, i) {\r\n            return !(i % 5);\r\n          })));\r\n\r\n      let yAxis = g => g\r\n        .attr('transform', `translate(${margin.left},${margin.top})`)\r\n        .call(d3.axisLeft(yAxisValues).ticks(null, 's').tickFormat(d => d + '%'));\r\n\r\n      let tooltip = d3.select('body')\r\n        .append('div')\r\n        .style('position', 'absolute')\r\n        .style('padding', '0 10px')\r\n        .style('background', '#F0F0FA')\r\n        .style('display', 'none')\r\n        .style('opacity', 0)\r\n        .style('font-size', '14px')\r\n        .style('color', 'black');\r\n\r\n      const svg = d3.select('#time-chart').append('svg')\r\n        .attr('viewBox',\r\n          [0, 0, width + margin.right + margin.left, height + margin.top + margin.bottom + 10])\r\n        .call(zoom);\r\n\r\n      const chart = svg.append('g')\r\n        .attr('transform', `translate(${margin.left}, ${margin.top})`)\r\n        .attr('class', 'bars')\r\n        .selectAll('rect')\r\n        .data(data)\r\n        .join('rect')\r\n        .attr('fill', d => colors(d.y))\r\n        .attr('x', (d, i) => x(d.x))\r\n        .attr('y', d => height)\r\n        .attr('width', x.bandwidth())\r\n        .attr('height', 0)\r\n        // on mouseover event\r\n        .on('mouseover', (event, d) => {\r\n          d3.select(event.currentTarget)\r\n            .style('opacity', 0.9);\r\n          tooltip.transition()\r\n            .duration(100)\r\n            .delay(500)\r\n            .style('opacity', 0.9)\r\n            .style('display', 'block');\r\n          tooltip.html(d.x + ': ' + d.y + '%')\r\n            .style('left', (event.pageX + 10) + 'px')\r\n            .style('top', (event.pageY - 20) + 'px');\r\n          setTimeout(() => {\r\n            tooltip.style('opacity', 0).style('display', 'none');\r\n          }, 5000);\r\n        })\r\n        .on('mouseout', (event, d) => {\r\n          d3.select(event.currentTarget)\r\n            .style('opacity', 1);\r\n          tooltip\r\n            .style('opacity', 0)\r\n            .style('display', 'none');\r\n        });\r\n\r\n      // guides\r\n      svg.append('g')\r\n        .attr('class', 'x-axis')\r\n        .call(xAxis);\r\n      svg.append('text')\r\n        .attr('x', width / 2 + margin.left)\r\n        .attr('y', height + margin.top + margin.bottom + 5)\r\n        .attr('fill', '#FDC170')\r\n        .style('font-size', '10pt')\r\n        .style('text-anchor', 'middle')\r\n        .text('years');\r\n\r\n      svg.append('g')\r\n        .attr('class', 'y-axis')\r\n        .call(yAxis);\r\n      svg.append('text')\r\n        .attr('x', 0)\r\n        .attr('y', 15)\r\n        .attr('fill', '#FDC170')\r\n        .style('font-size', '10pt')\r\n        .text('% of women from all credits');\r\n\r\n      // legend\r\n      const bgGradient = svg.append('linearGradient')\r\n        .attr('id', 'bg-gradient');\r\n      bgGradient\r\n        .append('stop')\r\n        .attr('stop-color', '#01B4E4')\r\n        .attr('offset', '0%');\r\n      bgGradient\r\n        .append('stop')\r\n        .attr('stop-color', '#D40242')\r\n        .attr('offset', '100%');\r\n\r\n      svg.append('text')\r\n        .attr('x', width / 4 * 3)\r\n        .attr('y', 30)\r\n        .attr('fill', 'white')\r\n        .style('font-size', '12px')\r\n        .text('0%');\r\n      svg.append('rect')\r\n        .attr('x', width / 4 * 3 + 30)\r\n        .attr('y', 20)\r\n        .attr('width', 200)\r\n        .attr('height', 10)\r\n        .style('fill', 'url(#bg-gradient)');\r\n      svg.append('text')\r\n        .attr('x', width / 4 * 3 + 240)\r\n        .attr('y', 30)\r\n        .attr('fill', 'white')\r\n        .style('font-size', '12px')\r\n        .text(d3.max(data, d => d.y) + '%');\r\n\r\n      // animation\r\n      chart.transition()\r\n        .attr('height', (d) => y(d.y))\r\n        .attr('y', (d, i) => height - y(d.y))\r\n        .duration(50)\r\n        .delay((d, i) => {\r\n          return i * 5\r\n        });\r\n\r\n      // if data is empty:\r\n      if (data.length === 0) {\r\n        svg.append('text')\r\n          .attr('x', width / 2 + margin.right)\r\n          .attr('y', height / 2 + margin.top)\r\n          .attr('text-anchor', 'middle')\r\n          .attr('fill', 'white')\r\n          .style('font-size', '16px')\r\n          .text('This result contains no data. Please change your filters.');\r\n      }\r\n\r\n      /**\r\n       * Zoomable Bar Chart Code from https://observablehq.com/@d3/zoomable-bar-chart\r\n       */\r\n      function zoom(svg) {\r\n        const extent = [[margin.left, margin.top], [width, height]];\r\n\r\n        const max = Math.max(Math.ceil(data.length / 10), 2);\r\n        svg.call(d3.zoom()\r\n          .scaleExtent([1, max])\r\n          .translateExtent(extent)\r\n          .extent(extent)\r\n          .on('zoom', zoomed));\r\n\r\n        function zoomed(event) {\r\n          x.range([0, width].map(d => event.transform.applyX(d)));\r\n          svg.selectAll('.bars rect').attr('x', d => x(d.x)).attr('width', x.bandwidth());\r\n          svg.selectAll('.x-axis').call(xAxis);\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  return (\r\n    <div id=\"time-chart\" className=\"diagram\"></div>\r\n  );\r\n}\r\n\r\nexport default BarChart;","import React, { useEffect } from 'react';\r\nimport * as d3 from 'd3';\r\n\r\n/**\r\n * Stacked Bar Chart Base Code from https://observablehq.com/@d3/stacked-bar-chart\r\n */\r\nfunction BarChartStacked(props) {\r\n  useEffect(() => {\r\n    if (props.data !== null && props.data.data) {\r\n      const data = props.data.data;\r\n      const columns = props.data.columns;\r\n\r\n      let margin = { top: 30, right: 30, bottom: 30, left: 50 },\r\n        height = 450 - margin.top - margin.bottom,\r\n        width = 900 - margin.right - margin.left;\r\n\r\n      let series = d3.stack()\r\n        .keys(columns.slice(1))(data)\r\n        .map(d => (d.forEach(v => v.key = d.key), d));\r\n\r\n      let x = d3.scaleBand()\r\n        .domain(data.map(d => d.name))\r\n        .range([0, width])\r\n        .padding(0.1);\r\n\r\n      let y = d3.scaleLinear()\r\n        .domain([0, 50])\r\n        .rangeRound([height, 0]);\r\n\r\n      const colors = [\r\n        '#999999', '#A42147', '#2D847B', '#F3A712', '#FDAAA0',\r\n        '#DE3F4C', '#66A0ED', '#42C3A8', '#F9CD44', '#EA7073',\r\n        '#57A3C7', '#9381FF', '#0EE0D2', '#FFF275', '#CC3E55',\r\n        '#B96481', '#08627C', '#FCD491', '#70FF8D', '#6652D4'\r\n      ];\r\n      let color = d3.scaleOrdinal()\r\n        .domain(series.map(d => d.key))\r\n        .range(colors)\r\n        .unknown('#ccc');\r\n\r\n      let xAxis = g => g\r\n        .attr('transform', `translate(${margin.left},${height + margin.top})`)\r\n        .call(d3.axisBottom(x)\r\n          .tickValues(x.domain().filter(function (d, i) {\r\n            return !(i % 5);\r\n          })));\r\n\r\n      let yAxis = g => g\r\n        .attr('transform', `translate(${margin.left},${margin.top})`)\r\n        .call(d3.axisLeft(y).ticks(null, 's').tickFormat(d => d + '%'));\r\n\r\n      let formatValue = x => isNaN(x) ? 'N/A' : x.toLocaleString('en');\r\n\r\n      let tooltip = d3.select('body')\r\n        .append('div')\r\n        .style('position', 'absolute')\r\n        .style('padding', '0 10px')\r\n        .style('background', '#F0F0FA')\r\n        .style('display', 'block')\r\n        .style('opacity', 0)\r\n        .style('font-size', '14px')\r\n        .style('color', 'black');\r\n\r\n      const svg = d3.select('#time-chart').append('svg')\r\n        .attr('viewBox',\r\n          [0, 0, width + margin.right + margin.left, height + margin.top + margin.bottom + 10])\r\n        .call(zoom);\r\n\r\n      const chart = svg.append('g')\r\n        .attr('transform', `translate(${margin.left}, ${margin.top})`)\r\n        .attr('class', 'bars')\r\n        .selectAll('g')\r\n        .data(series)\r\n        .join('g')\r\n        .attr('fill', d => color(d.key))\r\n        .selectAll('rect')\r\n        .data(d => d)\r\n        .join('rect')\r\n        .attr('x', (d, i) => x(d.data.name))\r\n        .attr('y', height)\r\n        .attr('height', 0)\r\n        .attr('width', x.bandwidth())\r\n        // on mouseover event\r\n        .on('mouseover', (event, d) => {\r\n          d3.select(event.currentTarget)\r\n            .style('opacity', 0.9);\r\n          tooltip.transition().duration(100)\r\n            .style('opacity', 0.9)\r\n            .style('display', 'block');\r\n          tooltip.html(`${d.data.name}: ${d.key} - ${formatValue(d.data[d.key])}%`)\r\n            .style('left', (event.pageX + 10) + 'px')\r\n            .style('top', (event.pageY - 20) + 'px');\r\n          setTimeout(() => {\r\n            tooltip.style('opacity', 0).style('display', 'none');\r\n          }, 5000);\r\n        })\r\n        .on('mouseout', (event, d) => {\r\n          d3.select(event.currentTarget)\r\n            .style('opacity', 1);\r\n          tooltip\r\n            .style('opacity', 0)\r\n            .style('display', 'none');\r\n        });\r\n\r\n      // animation\r\n      chart.transition()\r\n        .attr('height', d => y(d[0]) - y(d[1]))\r\n        .attr('y', d => y(d[1]))\r\n        .duration(50)\r\n        .delay((d, i) => {\r\n          return i * 5\r\n        });\r\n\r\n      //guides\r\n      svg.append('g')\r\n        .attr('class', 'x-axis')\r\n        .call(xAxis);\r\n      svg.append('text')\r\n        .attr('x', width / 2)\r\n        .attr('y', height + margin.top + margin.bottom + 5)\r\n        .attr('fill', '#FDC170')\r\n        .style('font-size', '10pt')\r\n        .style('text-anchor', 'middle')\r\n        .text('years');\r\n\r\n      svg.append('g')\r\n        .attr('class', 'y-axis')\r\n        .call(yAxis);\r\n      svg.append('text')\r\n        .attr('x', 0)\r\n        .attr('y', 15)\r\n        .attr('fill', '#FDC170')\r\n        .style('font-size', '10pt')\r\n        .text('% of women from all credits');\r\n\r\n      // legend\r\n      const legend = columns.slice(1, Math.round(columns.length / 3) + 1);\r\n      svg.selectAll('legend')\r\n        .data(legend).enter()\r\n        .append('rect')\r\n        .attr('fill', d => color(d))\r\n        .attr('width', 10)\r\n        .attr('height', 10)\r\n        .attr('x', width / 5 * 3)\r\n        .attr('y', (d, i) => (i * 20) + 10);\r\n      // replace label for Actors to avoid confusion\r\n      let iActors = legend.indexOf('Actors');\r\n      if (iActors !== -1) {\r\n        legend[iActors] = 'Background Acting';\r\n      }\r\n      svg.selectAll('labels')\r\n        .data(legend).enter()\r\n        .append('text')\r\n        .attr('fill', 'white')\r\n        .attr('x', width / 5 * 3 + 15)\r\n        .attr('y', (d, i) => (i * 20) + 20)\r\n        .style('font-size', '12px')\r\n        .text(d => d);\r\n\r\n      const legend2 = columns.slice(Math.round(columns.length / 3) + 1, Math.round(columns.length / 3) * 2 + 1);\r\n      svg.selectAll('legend')\r\n        .data(legend2).enter()\r\n        .append('rect')\r\n        .attr('fill', d => color(d))\r\n        .attr('width', 10)\r\n        .attr('height', 10)\r\n        .attr('x', width / 5 * 3 + 125)\r\n        .attr('y', (d, i) => (i * 20) + 10);\r\n      // rename Costume & Make Up to shorten it\r\n      let iCM = legend2.indexOf('Costume & Make-Up');\r\n      if (iCM !== -1) {\r\n        legend2[iCM] = 'Costume/Make-Up';\r\n      }\r\n      svg.selectAll('labels')\r\n        .data(legend2).enter()\r\n        .append('text')\r\n        .attr('fill', 'white')\r\n        .attr('x', width / 5 * 3 + 15 + 125)\r\n        .attr('y', (d, i) => (i * 20) + 20)\r\n        .style('font-size', '12px')\r\n        .text(d => d);\r\n\r\n      const legend3 = columns.slice(Math.round(columns.length / 3) * 2 + 1);\r\n      svg.selectAll('legend')\r\n        .data(legend3).enter()\r\n        .append('rect')\r\n        .attr('fill', d => color(d))\r\n        .attr('width', 10)\r\n        .attr('height', 10)\r\n        .attr('x', width / 5 * 3 + 250)\r\n        .attr('y', (d, i) => (i * 20) + 10);\r\n      svg.selectAll('labels')\r\n        .data(legend3).enter()\r\n        .append('text')\r\n        .attr('fill', 'white')\r\n        .attr('width', 100)\r\n        .attr('x', width / 5 * 3 + 15 + 250)\r\n        .attr('y', (d, i) => (i * 20) + 20)\r\n        .style('font-size', '12px')\r\n        .text(d => d);\r\n\r\n      /**\r\n       * Zoomable Bar Chart Base Code from https://observablehq.com/@d3/zoomable-bar-chart\r\n       */\r\n      function zoom(svg) {\r\n        const extent = [[margin.left, margin.top], [width, height]];\r\n\r\n        const max = Math.max(Math.ceil(data.length / 10), 2);\r\n        svg.call(d3.zoom()\r\n          .scaleExtent([1, max])\r\n          .translateExtent(extent)\r\n          .extent(extent)\r\n          .on('zoom', zoomed));\r\n\r\n        function zoomed(event) {\r\n          x.range([0, width].map(d => event.transform.applyX(d)));\r\n          svg.selectAll('.bars rect').attr('x', d => x(d.data.name)).attr('width', x.bandwidth());\r\n          svg.selectAll('.x-axis').call(xAxis);\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  return (\r\n    <div id=\"time-chart\" className=\"diagram\"></div>\r\n  );\r\n}\r\n\r\nexport default BarChartStacked;","import React, { useState, useEffect } from 'react';\r\nimport BarChart from './BarChart';\r\nimport BarChartStacked from './BarChartStacked';\r\n\r\nfunction TimeChart({ url }) {\r\n  const [data, setData] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    let urlString = '';\r\n    Object.keys(url).forEach(u => {\r\n      urlString += '&' + u + '=' + url[u];\r\n    });\r\n    fetch('http://localhost:9000/api/time?size=1000&' + urlString)\r\n      .then(res => res.json())\r\n      .then(setData)\r\n      .then(() => setLoading(false))\r\n      .catch(setError);\r\n  }, [url]);\r\n\r\n  if (error) {\r\n    return <pre>{JSON.stringify(error, null, 2)}</pre>;\r\n  }\r\n\r\n  if (url.category === 'none') {\r\n    return (\r\n      <>\r\n        {loading && <p>LOADING...</p>}\r\n        {!loading && <BarChart data={data} />}\r\n      </>\r\n    );\r\n  } else {\r\n    return (\r\n      <>\r\n        {loading && <p>LOADING...</p>}\r\n        {!loading && <BarChartStacked data={data} />}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TimeChart;","import { React, useState, useCallback } from 'react';\r\n\r\nfunction TimeChartSidebar({ setUrl }) {\r\n  // constants\r\n  const START = 1920,\r\n    END = 2020,\r\n    GENRES = {\r\n      all: 'All', action: 'Action', adventure: 'Adventure',\r\n      animation: 'Animation', comedy: 'Comedy',\r\n      crime: 'Crime', documentary: 'Documentary',\r\n      drama: 'Drama', family: 'Family',\r\n      fantasy: 'Fantasy', history: 'History',\r\n      horror: 'Horror', music: 'Music',\r\n      mystery: 'Mystery', romance: 'Romance',\r\n      sciencefiction: 'Science Fiction', tvmovie: 'TV Movie',\r\n      thriller: 'Thriller', war: 'War', western: 'Western'\r\n    };\r\n\r\n  // hooks\r\n  const [start, setStart] = useState(START);\r\n  const [end, setEnd] = useState(END);\r\n  const [genre, setGenre] = useState('all');\r\n  const [dep, setDep] = useState('all');\r\n  const [cat, setCat] = useState('none');\r\n  const [selected, setSelected] = useState('none');\r\n\r\n  const handleCatChange = e => {\r\n    setCat(e.target.value);\r\n    setSelected(e.target.value);\r\n  }\r\n\r\n  const handleGenreChange = e => {\r\n    setGenre(e.target.value);\r\n    if (e.target.value !== 'all') {\r\n      setSelected('none');\r\n      setCat('none');\r\n    }\r\n  }\r\n\r\n  const handleDepChange = e => {\r\n    setDep(e.target.value);\r\n    if (e.target.value !== 'all') {\r\n      setSelected('none');\r\n      setCat('none');\r\n    }\r\n  }\r\n\r\n  const handleInputChange = useCallback(e => {\r\n    setUrl({ start: start, end: end, genre: genre, dep: dep, category: cat });\r\n  }, [setUrl, start, end, genre, dep, cat]);\r\n\r\n  // select options\r\n  const yearsOptions = [];\r\n  for (let i = START; i <= END; i += 10) {\r\n    yearsOptions.push(<option key={i}>{i}</option>);\r\n  }\r\n\r\n  const genresOptions = [];\r\n  for (let g of Object.keys(GENRES)) {\r\n    genresOptions.push(<option key={g} value={g}>{GENRES[g]}</option>);\r\n  }\r\n\r\n  return (\r\n    <div class=\"sticky-top pt-3\">\r\n      <div className=\"pb-2\">\r\n        <h3>Select years:</h3>\r\n        <label className=\"mb-0\">Start</label>\r\n        <select className=\"custom-select\" name=\"start\" defaultValue={start} onChange={e => setStart(e.target.value)}>\r\n          {yearsOptions}\r\n        </select>\r\n        <label className=\"mt-2 mb-0\">End</label>\r\n        <select className=\"custom-select\" name=\"end\" defaultValue={end} onChange={e => setEnd(e.target.value)}>\r\n          {yearsOptions}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"py-2\">\r\n        <h3>Select genre:</h3>\r\n        <select className=\"custom-select\" name=\"genre\" defaultValue={'all'} onChange={handleGenreChange}>\r\n          {genresOptions}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"py-2\">\r\n        <h3>Select department:</h3>\r\n        <select className=\"custom-select\" name=\"dep\" defaultValue={'all'} onChange={handleDepChange}>\r\n          <option value=\"all\">All</option>\r\n          <option value=\"acting\">Acting</option>\r\n          <option value=\"writing\">Writing</option>\r\n          <option value=\"production\">Production</option>\r\n          <option value=\"directing\">Directing</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"pt-2\">\r\n        <h3>Divide into categories:</h3>\r\n        <select className=\"custom-select\" value={selected} name=\"cat\" onChange={handleCatChange}>\r\n          <option value=\"none\">None</option>\r\n          <option value=\"genres\" disabled={genre !== 'all' || dep !== 'all'}>Genres</option>\r\n          <option value=\"departments\" disabled={genre !== 'all' || dep !== 'all'}>Departments</option>\r\n        </select>\r\n        <p className=\"small\">Category can only be selected if 'All' is selected in above filters.</p>\r\n      </div>\r\n\r\n      <button className=\"btn btn-primary w-100\"\r\n        onClick={handleInputChange}>Apply filters</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TimeChartSidebar;","import { React } from 'react';\r\n\r\nfunction Infobox({ text }) {\r\n  return (\r\n    <div className=\"row infobox m-3\">\r\n        <div className=\"col-auto my-auto text-center text-info\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" fill=\"currentColor\" className=\"bi bi-info-circle-fill\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z\" />\r\n          </svg>\r\n        </div>\r\n        <div className=\"col\">\r\n          <p className=\"mb-0\">\r\n            {text}\r\n          </p>\r\n        </div>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default Infobox;","import { React, useState } from 'react';\r\nimport Infobox from '../../common/Infobox';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nfunction TimeChartInfo({ url }) {\r\n  let genre = url.genre === 'all' ? 'movies of all genres' : url.genre + ' movies';\r\n  let dep = url.dep === 'all' ? 'all departments' : url.dep;\r\n\r\n  let textCat = '';\r\n  if (url.category !== 'none') {\r\n    textCat = `The bars are divided into sections which show how many participated in which ${url.category}.`;\r\n    textCat += ' Hover over each section to get more information.';\r\n  }\r\n\r\n  const [show, setShow] = useState(false);\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  const text = <>This chart shows the percentages of women who worked in <strong>{dep}</strong> and <strong>{genre}\r\n    </strong> during the years <strong>{url.start} to {url.end}</strong> according to the movie credits. {textCat} <Button \r\n    variant=\"info\" onClick={handleShow}>Click here to read more.</Button></>;\r\n\r\n  return (\r\n    <>\r\n      <h2 className=\"text-center mb-0\">Women's participation in {genre} over the years {url.start} - {url.end}</h2>\r\n      <p className=\"text-center\">Double click or use your mousewheel to zoom in</p>\r\n      <Infobox text={text} />\r\n\r\n      {/* MODAL */}\r\n      <Modal show={show} onHide={handleClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title><h2 className=\"mb-0\">How this chart was made</h2></Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <p>This chart is based on credits of movies from many different countries which were taken from the TMDb.org database.</p>\r\n          <p>Not all movies had the full cast and crew listed.</p>\r\n          <p>The movies were grouped into <strong>years</strong> according to their release date. The chart excluded movies without release date.</p>\r\n          <p>It also <u>only</u> considers people who were marked with the gender <strong>female or male</strong>.</p>\r\n          <p>The numbers were calculated by counting all people listed as women, and dividing it by the sum of all female and male people.</p>\r\n          <p>Roughly <strong>36%</strong> of the credited people did not have any gender listed or were non-binary.</p>\r\n          <p>Unfortunately, non-binary people could not be included in this analysis as there was not enough data.</p>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"primary\" onClick={handleClose}>\r\n            Close\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default TimeChartInfo;","import React, { useEffect } from 'react';\r\nimport * as d3 from 'd3';\r\n\r\n/**\r\n * Zoomable Sunburst Base Code from https://observablehq.com/@d3/zoomable-sunburst\r\n */\r\nfunction RadialChart({ data }) {\r\n  useEffect(() => {\r\n    if (data != null) {\r\n      const width = 650;\r\n      const radius = width / 6;\r\n\r\n      const arc = d3.arc()\r\n        .startAngle(d => d.x0)\r\n        .endAngle(d => d.x1)\r\n        .padAngle(d => Math.min((d.x1 - d.x0) / 2, 0.005))\r\n        .padRadius(radius * 1.5)\r\n        .innerRadius(d => d.y0 * radius)\r\n        .outerRadius(d => Math.max(d.y0 * radius, d.y1 * radius - 1))\r\n\r\n      const partition = data => {\r\n        const root = d3.hierarchy(data)\r\n          .sum(d => d.value)\r\n          .sort((a, b) => b.value - a.value);\r\n        return d3.partition()\r\n          .size([2 * Math.PI, root.height + 1])\r\n          (root);\r\n      }\r\n\r\n      // colors\r\n      const color = d3.scaleOrdinal(d3.quantize(d3.interpolateRainbow, data.children.length + 1));\r\n\r\n      const getColor = d => {\r\n        if (d.depth === 3) {\r\n          if (d.data.name === \"Male\") return \"#FDC170\";\r\n          else if (d.data.name === \"Female\") return \"#D40242\";\r\n          else return \"#9A999F\";\r\n        }\r\n\r\n        while (d.depth > 1) d = d.parent;\r\n        return color(d.data.name);\r\n      }\r\n\r\n      const format = d3.format(\",d\");\r\n      const formatPercentage = d3.format(\".1f\");\r\n\r\n      const root = partition(data);\r\n\r\n      root.each(d => d.current = d);\r\n\r\n      // tooltip\r\n      const tooltip = d3.select(\"body\")\r\n        .append(\"div\")\r\n        .style(\"position\", \"absolute\")\r\n        .style(\"padding\", \"0.2rem 0.5rem\")\r\n        .style(\"background\", \"#F0F0FA\")\r\n        .style(\"display\", \"block\")\r\n        .style(\"opacity\", 0)\r\n        .style(\"font-size\", \"14px\")\r\n        .style(\"color\", \"black\");\r\n\r\n      const showTooltip = (event, d) => {\r\n        tooltip.transition().duration(100).delay(400)\r\n          .style(\"opacity\", 0.9)\r\n          .style(\"display\", \"block\");\r\n\r\n        let parentString = d.ancestors()[1].data.name.toLowerCase();\r\n        parentString = parentString === \"genres\" ? \"all \" + parentString : parentString;\r\n        const percentage = d.value / d.ancestors()[1].value * 100;\r\n        \r\n        tooltip.html(`<p class=\"small text-muted mb-1\">${d.ancestors().map(d => d.data.name).reverse().join(\" > \")}</p>${formatPercentage(percentage)}% of ${parentString}<br />(${format(d.value)} people)`)\r\n          .style(\"left\", (event.pageX + 40) + \"px\")\r\n          .style(\"top\", (event.pageY - 10) + \"px\");\r\n      }\r\n\r\n      const hideTooltip = () => {\r\n        tooltip\r\n          .style(\"opacity\", 0)\r\n          .style(\"display\", \"none\");\r\n      }\r\n\r\n      const svg = d3.select(\"#genres-departments-chart\").append(\"svg\")\r\n        .attr(\"viewBox\", [0, 0, width, width])\r\n        .style(\"font\", \"10px sans-serif\");\r\n\r\n      const g = svg.append(\"g\")\r\n        .attr(\"transform\", `translate(${width / 2},${width / 2})`);\r\n\r\n      const path = g.append(\"g\")\r\n        .selectAll(\"path\")\r\n        .data(root.descendants().slice(1))\r\n        .join(\"path\")\r\n        .attr(\"fill\", getColor)\r\n        .attr(\"fill-opacity\", d => arcVisible(d.current) ? 0.75 : 0)\r\n        .attr(\"d\", d => arc(d.current))\r\n        .on(\"mouseover\", (event, d) => {\r\n          if (arcVisible(d.current)) {\r\n            showTooltip(event, d);\r\n            setTimeout(hideTooltip, 8000);\r\n          }\r\n        })\r\n        .on(\"mouseout\", (event, d) => {\r\n          hideTooltip();\r\n        })\r\n        .on(\"click\", (event, d) => {\r\n          hideTooltip();\r\n        });\r\n\r\n      path.filter(d => d.children)\r\n        .style(\"cursor\", \"pointer\")\r\n        .on(\"click\", clicked);\r\n\r\n      const label = g.append(\"g\")\r\n        .attr(\"pointer-events\", \"none\")\r\n        .attr(\"text-anchor\", \"middle\")\r\n        .style(\"user-select\", \"none\")\r\n        .attr(\"fill\", \"#D2D2DC\")\r\n        .selectAll(\"text\")\r\n        .data(root.descendants().slice(1))\r\n        .join(\"text\")\r\n        .attr(\"dy\", \"0.35em\")\r\n        .attr(\"fill-opacity\", d => +labelVisible(d.current))\r\n        .attr(\"transform\", d => labelTransform(d.current))\r\n        .text(d => d.data.name);\r\n\r\n      const parent = g.append(\"circle\")\r\n        .datum(root)\r\n        .attr(\"r\", radius)\r\n        .attr(\"fill\", \"none\")\r\n        .attr(\"pointer-events\", \"all\")\r\n        .on(\"click\", clicked);\r\n\r\n      const backLabel = g.append(\"text\")\r\n        .datum(root)\r\n        .attr(\"pointer-events\", \"all\")\r\n        .style(\"cursor\", \"default\")\r\n        .style(\"font-size\", \"10pt\")\r\n        .attr(\"text-anchor\", \"middle\")\r\n        .attr(\"fill\", \"white\")\r\n        .attr(\"dy\", \"0\")\r\n        .text(\"Genres\")\r\n        .on(\"click\", clicked);\r\n      const goBackLabel = g.append(\"text\")\r\n        .datum(root)\r\n        .attr(\"pointer-events\", \"all\")\r\n        .style(\"cursor\", \"default\")\r\n        .style(\"font-size\", \"8pt\")\r\n        .attr(\"text-anchor\", \"middle\")\r\n        .attr(\"fill\", \"transparent\")\r\n        .attr(\"dy\", \"10pt\")\r\n        .text(\"Go back\")\r\n        .on(\"click\", clicked);\r\n\r\n      function clicked(event, p) {\r\n        if (p.depth > 0) {\r\n          backLabel\r\n            .style(\"cursor\", \"pointer\")\r\n            .text(`${p.parent.data.name} > ${p.data.name}`);\r\n          goBackLabel.transition().duration(750)\r\n            .style(\"cursor\", \"pointer\")\r\n            .attr(\"fill\", \"white\");\r\n        } else {\r\n          backLabel\r\n            .text(\"Genres\")\r\n            .style(\"cursor\", \"default\");\r\n          goBackLabel.transition().duration(750)\r\n            .style(\"cursor\", \"default\")\r\n            .attr(\"fill\", \"transparent\");\r\n        }\r\n\r\n        parent.datum(p.parent || root);\r\n        backLabel.datum(p.parent || root);\r\n        goBackLabel.datum(p.parent || root);\r\n\r\n        root.each(d => d.target = {\r\n          x0: Math.max(0, Math.min(1, (d.x0 - p.x0) / (p.x1 - p.x0))) * 2 * Math.PI,\r\n          x1: Math.max(0, Math.min(1, (d.x1 - p.x0) / (p.x1 - p.x0))) * 2 * Math.PI,\r\n          y0: Math.max(0, d.y0 - p.depth),\r\n          y1: Math.max(0, d.y1 - p.depth)\r\n        });\r\n\r\n        const t = g.transition().duration(750);\r\n\r\n        // Transition the data on all arcs, even the ones that arent visible,\r\n        // so that if this transition is interrupted, entering arcs will start\r\n        // the next transition from the desired position.\r\n        path.transition(t)\r\n          .tween(\"data\", d => {\r\n            const i = d3.interpolate(d.current, d.target);\r\n            return t => d.current = i(t);\r\n          })\r\n          .filter(function (d) {\r\n            return +this.getAttribute(\"fill-opacity\") || arcVisible(d.target);\r\n          })\r\n          .attr(\"fill-opacity\", d => arcVisible(d.target) ? 0.75 : 0)\r\n          .attrTween(\"d\", d => () => arc(d.current));\r\n\r\n        label.filter(function (d) {\r\n          return +this.getAttribute(\"fill-opacity\") || labelVisible(d.target);\r\n        }).transition(t)\r\n          .attr(\"fill-opacity\", d => +labelVisible(d.target))\r\n          .attrTween(\"transform\", d => () => labelTransform(d.current));\r\n      }\r\n\r\n      function arcVisible(d) {\r\n        return d.y1 <= 3 && d.y0 >= 1 && d.x1 > d.x0;\r\n      }\r\n\r\n      function labelVisible(d) {\r\n        return d.y1 <= 3 && d.y0 >= 1 && (d.y1 - d.y0) * (d.x1 - d.x0) > 0.03;\r\n      }\r\n\r\n      function labelTransform(d) {\r\n        const x = (d.x0 + d.x1) / 2 * 180 / Math.PI;\r\n        const y = (d.y0 + d.y1) / 2 * radius;\r\n        return `rotate(${x - 90}) translate(${y},0) rotate(${x < 180 ? 0 : 180})`;\r\n      }\r\n    }\r\n  });\r\n\r\n  return (\r\n    <div id=\"genres-departments-chart\" className=\"diagram\"></div>\r\n  );\r\n}\r\n\r\nexport default RadialChart;","import React, { useState, useEffect } from 'react';\r\nimport RadialChart from './RadialChart';\r\n\r\n\r\nfunction GenresDeparmentsChart({ url }) {\r\n  const [data, setData] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    let urlString = '';\r\n    Object.keys(url).forEach(u => {\r\n      urlString += '&' + u + '=' + url[u];\r\n    });\r\n    fetch('http://localhost:9000/api/genres-departments?size=10000' + urlString)\r\n      .then(res => res.json())\r\n      .then(setData)\r\n      .then(() => setLoading(false))\r\n      .catch(setError);\r\n  }, [url]);\r\n\r\n  if (error) {\r\n    return <pre>{JSON.stringify(error, null, 2)}</pre>;\r\n  }\r\n\r\n  return (\r\n    <section id=\"charts\">\r\n      {loading && <p>LOADING...</p>}\r\n      {!loading && <RadialChart data={data} />}\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default GenresDeparmentsChart;","import { React, useState } from 'react';\r\nimport Infobox from '../../common/Infobox';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nfunction GenresDepartmentsInfo({ url }) {\r\n  let dataset = url.dataset === 'all' ? '' : <strong> (excluding acting)</strong>;\r\n\r\n  const [show, setShow] = useState(false);\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  const text = <>This chart shows how many female and male people work in all movie genres and departments{dataset} during the years <strong>\r\n    {url.time} to {url.time + 9}</strong> according to the movie credits. <Button variant=\"info\" onClick={handleShow}>\r\n      Click here to read more.</Button></>;\r\n\r\n  return (\r\n    <>\r\n      <h2 className=\"text-center mb-1\">Gender distribution in genres and departments in the {url.time}s</h2>\r\n      <p className=\"text-center\">Click on a section to zoom in or the center to zoom out</p>\r\n      <Infobox text={text} />\r\n\r\n      {/* MODAL */}\r\n      <Modal show={show} onHide={handleClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title><h2 className=\"mb-0\">How this chart was made</h2></Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <p>This chart is based on credits of movies from many different countries which were taken from the TMDb.org database.</p>\r\n          <p>Not all movies had the full cast and crew listed.</p>\r\n          <p>The people were grouped into <strong>movie genres</strong>, then their <strong>department</strong> and lastly the given <strong>gender</strong>. Movies without genres were excluded.</p>\r\n          <p>Movies with multiple genres were counted once for each of their genres.</p>\r\n          <p>The numbers were calculated by counting all people listed as female, male or undefined/non-binary of each group.</p>\r\n          <p>Non-binary people were grouped together with undefined gender, because the area would be too small to show up on the chart.</p>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"primary\" onClick={handleClose}>\r\n            Close\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default GenresDepartmentsInfo;","import { React, useState, useCallback } from 'react';\r\n\r\nfunction GenresDepartmentsSidebar({ setUrl }) {\r\n  // constants\r\n  const START = 1920,\r\n    END = 2020,\r\n    DEFAULT_DATA = 'crew';\r\n\r\n  // hooks\r\n  const [dataset, setDataset] = useState(DEFAULT_DATA);\r\n  const [time, setTime] = useState(2010);\r\n\r\n  const isActive = i => {\r\n    if (+time === i) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  const handleTimeChange = useCallback(e => {\r\n    setTime(e.target.id);\r\n    setUrl({ dataset: dataset, time: e.target.id });\r\n  }, [setUrl, setTime, dataset]);\r\n\r\n  const handleDatasetChange = useCallback(e => {\r\n    let value = e.target.checked ? e.target.value : DEFAULT_DATA;\r\n    setDataset(value);\r\n    setUrl({ dataset: value, time: time });\r\n  }, [setUrl, setDataset, time]);\r\n\r\n  // time interval\r\n  const yearsOptions = [];\r\n  for (let i = START; i < END; i += 10) {\r\n    yearsOptions.push(i);\r\n  }\r\n\r\n  return (\r\n    <div class=\"sticky-top pt-3\">\r\n      <h3>Select data:</h3>\r\n      <div className=\"form-check pb-4\">\r\n        <input type=\"checkbox\" id=\"data\" className=\"form-check-input\" value=\"all\" onChange={handleDatasetChange} />\r\n        <label htmlFor=\"data\" className=\"form-check-label\">include actors</label>\r\n      </div>\r\n      <div className=\"pb-2\">\r\n        <h3>Select time interval:</h3>\r\n        {yearsOptions.map(i => (\r\n          <button className={'timespan' + (isActive(i) ? ' active' : '')} key={i} id={i}\r\n            onClick={handleTimeChange}>{i} - {i + 9}</button>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GenresDepartmentsSidebar;","import React, { useEffect } from 'react';\r\nimport * as d3 from 'd3';\r\n\r\n/**\r\n * Scatter Plot Base Code from https://observablehq.com/@d3/scatterplot-with-shapes\r\n */\r\nfunction ScatterPlot({ data }) {\r\n  useEffect(() => {\r\n    if (data != null) {\r\n      const margin = { top: 30, right: 30, bottom: 40, left: 40 },\r\n        height = 600 - margin.top - margin.bottom,\r\n        width = 850 - margin.right - margin.left;\r\n\r\n      const formatValue = d3.format(\".2s\");\r\n      const formatDollar = d3.format(\"$,d\");\r\n\r\n      const svg = d3.select(\"#profit-chart\").append(\"svg\")\r\n        .attr(\"viewBox\", [0, 0, width, height])\r\n        .call(zoom);\r\n\r\n      const x = d3.scaleLinear()\r\n        .domain(d3.extent(data, d => d.avgBudget)).nice()\r\n        .range([margin.left, width - margin.right]);\r\n\r\n      const y = d3.scaleLinear()\r\n        .domain(d3.extent(data, d => d.avgRevenue)).nice()\r\n        .range([height - margin.bottom, margin.top]);\r\n\r\n      const color = d3.scaleOrdinal().domain(data.map(d => d.category)).range(['#D93B63', '#01C6AC', '#01B4E4']);\r\n      const shape = d3.scaleOrdinal(data.map(d => d.category), d3.symbols.map(s => d3.symbol().size(80).type(s)()));\r\n\r\n      const xAxis = g => g\r\n        .attr(\"transform\", `translate(0,${height - margin.bottom})`)\r\n        .call(d3.axisBottom(x).ticks(width / 80).tickFormat(formatValue))\r\n        .call(g => g.select(\".domain\").remove())\r\n        .call(g => g.append(\"text\")\r\n          .attr(\"x\", width)\r\n          .attr(\"y\", margin.bottom - 4)\r\n          .attr(\"fill\", \"#FDC170\")\r\n          .attr(\"text-anchor\", \"end\")\r\n          .text(\"Average budget in million constant USD\"));\r\n\r\n      const yAxis = g => g\r\n        .attr(\"transform\", `translate(${margin.left},0)`)\r\n        .call(d3.axisLeft(y).tickFormat(formatValue))\r\n        .call(g => g.select(\".domain\").remove())\r\n        .call(g => g.append(\"text\")\r\n          .attr(\"x\", -margin.left)\r\n          .attr(\"y\", 10)\r\n          .attr(\"fill\", \"#FDC170\")\r\n          .attr(\"text-anchor\", \"start\")\r\n          .text(\"Average revenue in million constant USD\"));\r\n\r\n      // tooltip\r\n      const tooltip = d3.select('body')\r\n        .append('div')\r\n        .style('position', 'absolute')\r\n        .style('padding', '0.2rem 0.5rem')\r\n        .style('background', '#F0F0FA')\r\n        .style('display', 'none')\r\n        .style('opacity', 0)\r\n        .style('font-size', '14px')\r\n        .style('color', 'black');\r\n\r\n      const tooltipMouseover = (event, d) => {\r\n        tooltip.transition()\r\n          .duration(100)\r\n          .delay(200)\r\n          .style('opacity', 0.9)\r\n          .style('display', 'block');\r\n        // format values\r\n        const revenue = formatDollar(d.avgRevenue);\r\n        const budget = formatDollar(d.avgBudget);\r\n        const profit = d3.format('.1f')(d.profit / d.avgRevenue * 100);\r\n        tooltip.html(`<b>${d._id}</b> (${d.count} movies):<br />${revenue} revenue<br />${budget} budget<br />~ ${profit}% profit margin`)\r\n          .style('left', (event.pageX - 70) + 'px')\r\n          .style('top', () => { let pos = event.pageY < 800 ? 30 : -120; return (event.pageY + pos) + 'px' });\r\n      }\r\n\r\n      const tooltipMouseout = (event, d) => {\r\n        tooltip\r\n          .style('opacity', 0)\r\n          .style('display', 'none');\r\n      }\r\n\r\n      // color change\r\n      const categories = [...new Set(data.map(d => d.category))];\r\n\r\n      const colorChange = (d, col) => {\r\n        categories.forEach(cat => {\r\n          if (cat !== d.category) {\r\n            const c = col ? col : color(cat);\r\n            d3.selectAll(\".dot.\" + cat)\r\n              .transition()\r\n              .duration(100)\r\n              .attr(\"fill\", c);\r\n          }\r\n        });\r\n      }\r\n\r\n      // grid background\r\n      let grid = g => g\r\n        .attr(\"stroke\", \"currentColor\")\r\n        .attr(\"stroke-opacity\", 0.1)\r\n        .call(g => g.append(\"g\")\r\n          .attr(\"class\", \"grid\")\r\n          .selectAll(\"line\")\r\n          .data(x.ticks())\r\n          .join(\"line\")\r\n          .attr(\"x1\", d => 0.5 + x(d))\r\n          .attr(\"x2\", d => 0.5 + x(d))\r\n          .attr(\"y1\", margin.top)\r\n          .attr(\"y2\", height - margin.bottom))\r\n        .call(g => g.append(\"g\")\r\n          .selectAll(\"line\")\r\n          .data(y.ticks())\r\n          .join(\"line\")\r\n          .attr(\"y1\", d => 0.5 + y(d))\r\n          .attr(\"y2\", d => 0.5 + y(d))\r\n          .attr(\"x1\", margin.left)\r\n          .attr(\"x2\", width - margin.right));\r\n\r\n      svg.append(\"g\")\r\n        .attr(\"class\", \"x-axis\")\r\n        .call(xAxis);\r\n\r\n      svg.append(\"g\")\r\n        .attr(\"class\", \"y-axis\")\r\n        .call(yAxis);\r\n\r\n      svg.append(\"g\")\r\n        .call(grid);\r\n\r\n      const chart = svg.append(\"g\")\r\n        .attr(\"class\", \"dots\")\r\n        .attr(\"stroke-width\", 1.5)\r\n        .attr(\"font-family\", \"sans-serif\")\r\n        .attr(\"font-size\", 10)\r\n        .selectAll(\"path\")\r\n        .data(data)\r\n        .join(\"path\")\r\n        .attr(\"opacity\", 0)\r\n        .attr(\"transform\", d => `translate(${x(d.avgBudget)},${y(d.avgRevenue)})`)\r\n        .attr(\"fill\", d => color(d.category))\r\n        .attr(\"d\", d => shape(d.category))\r\n        .attr(\"class\", d => `dot ${d.category}`)\r\n        // on mouseover event\r\n        .on('mouseover', (event, d) => {\r\n          d3.select(event.currentTarget)\r\n            .style('opacity', 0.5);\r\n          tooltipMouseover(event, d);\r\n          colorChange(d, '#032541');\r\n          setTimeout(() => {\r\n            tooltipMouseout(event, d);\r\n          }, 10000);\r\n        })\r\n        .on('mouseout', (event, d) => {\r\n          d3.select(event.currentTarget)\r\n            .style('opacity', 1);\r\n          tooltipMouseout(event, d);\r\n          colorChange(d);\r\n        });\r\n\r\n      // animation\r\n      chart.transition()\r\n        .attr(\"opacity\", 1)\r\n        .duration(100)\r\n        .delay((d, i) => i * 25);\r\n\r\n      // legend\r\n      svg.selectAll(\"legend\")\r\n        .data(categories)\r\n        .join(\"path\")\r\n        .attr(\"stroke-width\", 1.5)\r\n        .attr(\"font-family\", \"sans-serif\")\r\n        .attr(\"font-size\", 10)\r\n        .attr(\"fill\", d => color(d))\r\n        .attr(\"d\", d => shape(d))\r\n        .attr(\"transform\", (d, i) => `translate(${(width / 3) - 10 + i * 90}, 10)`)\r\n        .text(d => d);\r\n      // rename labels for other departments than acting for more clarity\r\n      const labels = [...categories];\r\n      if (labels.length === 3) {\r\n        labels[0] = 'only women';\r\n        labels[1] = 'only men';\r\n        labels[2] = 'mixed genders';\r\n      }\r\n      svg.selectAll(\"legend\")\r\n        .data(labels)\r\n        .join(\"text\")\r\n        .attr(\"fill\", \"white\")\r\n        .attr(\"font-size\", \"12px\")\r\n        .attr(\"x\", (d, i) => (width / 3) + i * 90)\r\n        .attr(\"y\", 15)\r\n        .text(d => d);\r\n\r\n      /**\r\n       * Zoomable Bar Chart Base Code from https://observablehq.com/@d3/zoomable-bar-chart\r\n       */\r\n      function zoom(svg) {\r\n        const extent = [[margin.left, margin.top], [width, height]];\r\n\r\n        svg.call(d3.zoom()\r\n          .scaleExtent([1, 8])\r\n          .translateExtent(extent)\r\n          .extent(extent)\r\n          .on('zoom', zoomed));\r\n\r\n        function zoomed(event) {\r\n          x.range([margin.left, width - margin.right].map(d => event.transform.applyX(d)));\r\n          svg.selectAll('.dots path')\r\n            .attr(\"transform\", d => `translate(${x(d.avgBudget)},${y(d.avgRevenue)})`);\r\n          svg.selectAll('.x-axis').call(xAxis);\r\n          svg.selectAll(\".grid line\")\r\n            .attr(\"x1\", d => 0.5 + x(d))\r\n            .attr(\"x2\", d => 0.5 + x(d));\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  return (\r\n    <div id=\"profit-chart\" className=\"diagram\"></div>\r\n  );\r\n}\r\n\r\nexport default ScatterPlot;","import React, { useState, useEffect } from 'react';\r\nimport ScatterPlot from './ScatterPlot';\r\n\r\nfunction ProfitChart({ url }) {\r\n  const [data, setData] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    let urlString = '';\r\n    Object.keys(url).forEach(u => {\r\n      urlString += '&' + u + '=' + url[u];\r\n    });\r\n    fetch('http://localhost:9000/api/profit?size=55000' + urlString)\r\n      .then(res => res.json())\r\n      .then(setData)\r\n      .then(() => setLoading(false))\r\n      .catch(setError);\r\n  }, [url]);\r\n\r\n  if (error) {\r\n    return <pre>{JSON.stringify(error, null, 2)}</pre>;\r\n  }\r\n\r\n  return (\r\n    <section id=\"charts\">\r\n      {loading && <p>LOADING...</p>}\r\n      {!loading && <ScatterPlot data={data} />}\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ProfitChart;","import { React, useState, useCallback } from 'react';\r\n\r\nfunction ProfitChartSidebar({ setUrl }) {\r\n  // constants\r\n  const DEFAULT_DATA = 'acting';\r\n\r\n  const depsOptions = {\r\n    acting: 'Lead actor',\r\n    directing: 'Director teams',\r\n    production: 'Production teams',\r\n    writing: 'Writer teams'\r\n  }\r\n\r\n  // hooks\r\n  const [dataset, setDataset] = useState(DEFAULT_DATA);\r\n\r\n  const isActive = i => {\r\n    if (dataset === i) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  const handleDatasetChange = useCallback(e => {\r\n    setDataset(e.target.id);\r\n    setUrl({ dataset: e.target.id });\r\n  }, [setUrl, setDataset]);\r\n\r\n  return (\r\n    <div className=\"sticky-top pt-3\">\r\n      <h3>Select data grouping:</h3>\r\n      {Object.keys(depsOptions).map(i => (\r\n        <button className={'timespan' + (isActive(i) ? ' active' : '')} key={i} id={i}\r\n          onClick={handleDatasetChange}>{depsOptions[i]}</button>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProfitChartSidebar;","import { React, useState } from 'react';\r\nimport Infobox from '../../common/Infobox';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nfunction ProfitChartInfo({ url }) {\r\n  const [show, setShow] = useState(false);\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  let data;\r\n  switch (url.dataset) {\r\n    case 'acting':\r\n      data = 'lead actors';\r\n      break;\r\n    case 'directing':\r\n      data = 'director teams';\r\n      break;\r\n    case 'writing':\r\n      data = 'writer teams';\r\n      break;\r\n    case 'production':\r\n      data = 'production teams';\r\n      break;\r\n    default:\r\n      data = url.dataset;\r\n  }\r\n\r\n  const text = <>This chart shows the average budget and revenue <strong>(adjusted for inflation)</strong> of movies from 1913 - 2021 grouped by the <strong>\r\n    {data}' gender</strong>. Each shape represents one genre and you can hover over them for more information. <Button\r\n      variant=\"info\" onClick={handleShow}>Click here to read more.</Button></>;\r\n\r\n  return (\r\n    <>\r\n      <h2 className=\"text-center mb-0\">Average budget and revenue of movie genres grouped by {data}' gender</h2>\r\n      <p className=\"text-center\">Double click or use your mousewheel to zoom in</p>\r\n      <Infobox text={text} />\r\n\r\n      {/* MODAL */}\r\n      <Modal show={show} onHide={handleClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title><h2 className=\"mb-0\">How this chart was made</h2></Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <p>This chart is based on data of movies from many different countries which were taken from the TMDb.org database.</p>\r\n          <p>The movies were grouped into <strong>movie genres</strong> and the <strong>gender</strong> of the {data}. Movies without genres, budget and revenue data were excluded.</p>\r\n          <p>Movies with multiple genres were counted once for each of their genres.</p>\r\n          <p>The numbers are <strong>adjusted for inflation</strong> by taking the CPI (Consumer Price Index) of their release date and the mean value was calculated.</p>\r\n          <p>For the dataset with lead actors, the first actor listed in the credits was assumed to be the lead actor and selected to analyze.</p>\r\n          <p>For the dataset with other departments, the data was grouped by teams with \"only women\", \"only men\" and \"mixed gender\" (women and men).</p>\r\n          <p>Unfortunately there was not enough data for non-binary people to show in this chart.</p>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"primary\" onClick={handleClose}>\r\n            Close\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ProfitChartInfo;","import { React, useState } from 'react';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route\r\n} from 'react-router-dom';\r\n\r\nimport TimeChart from './timechart/TimeChart';\r\nimport TimeChartSidebar from './timechart/Sidebar';\r\nimport TimeChartInfo from './timechart/Info';\r\n\r\nimport GenresDeparmentsChart from './genresdepartmentschart/GenresDepartmentsChart';\r\nimport GenresDepartmentsInfo from './genresdepartmentschart/Info';\r\nimport GenresDepartmentsSidebar from './genresdepartmentschart/Sidebar';\r\n\r\nimport ProfitChart from './profitchart/ProfitChart';\r\nimport ProfitChartSidebar from './profitchart/Sidebar';\r\nimport ProfitChartInfo from './profitchart/Info';\r\n\r\nfunction ChartsLayout() {\r\n  const [timeUrl, setTimeUrl] = useState({\r\n    start: 1920,\r\n    end: 2020,\r\n    genre: 'all',\r\n    dep: 'all',\r\n    category: 'none'\r\n  });\r\n\r\n  const [gdUrl, setGdUrl] = useState({\r\n    dataset: 'crew',\r\n    time: 2010\r\n  });\r\n\r\n  const [profitUrl, setProfitUrl] = useState({\r\n    dataset: 'acting'\r\n  });\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"col\">\r\n        <section id=\"sidebar\">\r\n          <h2>Filters</h2>\r\n          <Router>\r\n            <Route path=\"/time\" render={() => <TimeChartSidebar setUrl={setTimeUrl} />} />\r\n            <Route path=\"/genres\" render={() => <GenresDepartmentsSidebar setUrl={setGdUrl} />} />\r\n            <Route path=\"/profit\" render={() => <ProfitChartSidebar setUrl={setProfitUrl} />} />\r\n          </Router>\r\n        </section>\r\n      </div>\r\n\r\n      <div className=\"col-12 col-lg-9 order-lg-first\">\r\n        <section id=\"charts\">\r\n          <Router>\r\n            <Route path=\"/time\" render={() => <TimeChartInfo url={timeUrl} />} />\r\n            <Route path=\"/genres\" render={() => <GenresDepartmentsInfo url={gdUrl} />} />\r\n            <Route path=\"/profit\" render={() => <ProfitChartInfo url={profitUrl} />} />\r\n          </Router>\r\n\r\n          <Router>\r\n            <Route path=\"/time\" render={() => <TimeChart url={timeUrl} />} />\r\n            <Route path=\"/genres\" render={() => <GenresDeparmentsChart url={gdUrl} />} />\r\n            <Route path=\"/profit\" render={() => <ProfitChart url={profitUrl} />} />\r\n          </Router>\r\n        </section>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChartsLayout;","import React from 'react';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route\r\n} from 'react-router-dom';\r\nimport Header from './components/common/Header';\r\nimport Footer from './components/common/Footer';\r\nimport Home from './components/Home';\r\nimport ChartsLayout from './components/charts/ChartsLayout';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <div className=\"App\">\r\n        <Header />\r\n        <Route path=\"/\" component={Home} exact />\r\n        <Route path=\"/time\" component={ChartsLayout} />\r\n        <Route path=\"/genres\" component={ChartsLayout} />\r\n        <Route path=\"/profit\" component={ChartsLayout} />\r\n        <Footer />\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}